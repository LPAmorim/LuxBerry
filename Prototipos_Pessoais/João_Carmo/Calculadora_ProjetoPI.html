<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora LuxBerry</title>
</head>
<body>
    <h1>Calculadora de Redução de Perdas por Luminosidade Inadequada</h1>
    <p>Esta calculadora permite simular os benefícios econômicos de um sistema de monitoramento de luminosidade para uma plantação de morangos. <br><br>
        <b>Como funciona:</b> <br>
        O valor da economia será calculado em etapas, considerando a produção e o percentual de perdas. A quantidade de perdas atuais será calculada com base na produção e no percentual informado. <br>
        Em seguida, a perda evitada será calculada, considerando uma redução de 15% nas perdas. <br>
        Finalmente, soma-se o valor correspondente às perdas evitadas, utilizando o preço do morango, para determinar o valor total da economia gerada. <br><br>
        <b>Resultado:</b> <br>
        A calculadora exibe o resultado da simulação, mostrando: <br>
        A quantidade de perdas evitadas. <br>
        O valor de economia gerado ao reduzir as perdas. <br>
        A redução nas perdas após a implementação do sistema.
    <p><br>
        Produção atual anual (Kg/ano): <input type="number" id="ipt_producaoAtual"><br><br>
        Percentual de perdas atuais (%): <input type="number" id="ipt_perdasAtuais"><br><br>
        Preco do morango (Kg): <input type="number" id="ipt_precomorango">
    </p>
    <button onclick="calculareconomia()">Calcular</button>
    <div id="div_calculoeconomia"></div>
</body>
</html>

<script>
    function calculareconomia () {
        var producaoAtual = Number(ipt_producaoAtual.value);
        var perdasAtuais = Number(ipt_perdasAtuais.value);
        var precoMorango = Number(ipt_precomorango.value);
        var perdasPorcentagem = producaoAtual * (perdasAtuais / 100);
        var perdasAnuais = producaoAtual - perdasPorcentagem;
        var perdasEvitadas = producaoAtual * (perdasAtuais / 100) * 0.15;
        var novasPerdas =  perdasPorcentagem - perdasEvitadas;
        var precoMorango = perdasEvitadas * precoMorango; 

        div_calculoeconomia.innerHTML = `
        <h2>Resultado da Simulação</h2>
        Perdas evitadas anualmente: <b>${perdasEvitadas} kg</b> de morangos salvos!<br>
        Antes do sistema: <b>${perdasPorcentagem} kg</b> perdidos/ano<br>
        Com o sistema: <b>${novasPerdas} kg</b> perdidos/ano<br>
        Deixou de perder: <b>R$${precoMorango}</b> <br>
        Redução de <b>15%</b> nas perdas! <br> <br>
        <b>Detalhes do Cálculo:</b><br>
        Produção anual informada: <b>${producaoAtual} kg</b><br>
        Perdas atuais: <b>${perdasAtuais}%</b> <b>${perdasPorcentagem} Kg</b> perdidos/Ano (<b>${perdasAnuais} kg/ano</b>)<br>
        Eficiência do sistema IoT: <b>15%</b1> <br>
        `
    }
</script>